<!DOCTYPE html>
<html lang="en" class="h-100">
  <head>
    <title>Taco Cat: A Coding Project By Caleb Jones</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU"
      crossorigin="anonymous"
    />
    <!-- Font Awesome -->
    <script
      src="https://kit.fontawesome.com/5db21ba9c6.js"
      crossorigin="anonymous"
    ></script>
    <!--Google Fonts for Racing Sans One -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Racing+Sans+One&display=swap"
      rel="stylesheet"
    />
    <!-- CSS -->
    <link rel="stylesheet" href="css/site.css" />
    <link rel="stylesheet" href="css/prism.css" />
    <link rel="icon" type="image/png" href="img/favicon-32x32.png" />
  </head>

  <body class="d-flex flex-column h-100">
    <!-- Nav Section -->
    <nav class="navbar navbar-expand-md navbar-dark fixed-top">
      <div class="container-fluid">
        <a class="navbar-brand logoFont" href="index.html"> Taco Cat</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarCollapse"
          aria-controls="navbarCollapse"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
          <ul class="navbar-nav me-auto mb-2 mb-md-0">
            <li class="nav-item">
              <a class="nav-link" href="index.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="app.html">The App</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="code.html"
                >The Code</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                target="_blank"
                href="https://github.com/calebj516/TacoCat"
                >Git Repo</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                target="_blank"
                href="https://calebj-portfolio.netlify.app/"
                >About</a
              >
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- Main Section -->
    <main class="flex-shrink-0">
      <div class="container py-5 px-5 mt-5">
        <h2 class="border-1 border-bottom border-dark">
          The Code for Taco Cat.
        </h2>
        <div class="row row-cols-1 row-cols-lg-2">
          <div class="col-lg-8">
            <pre class="line-numbers">
                <code class="language-javascript">
                  // Get Values
                  function getValues() {
                    // make sure the modal is invisble
                    let myModal = new bootstrap.Modal(document.getElementById('resultModal'));
                    myModal.hide();
                    // Get string from user
                    let str = document.getElementById('userInput').value;
                    // Pass string to isPalindrome
                    let returnObj = isPalindrome(str);
                    // Pass result of isPalindrome to displayResults
                    displayResults(returnObj);
                  }

                  // Determine Palindrome Status
                  function isPalindrome(str) {
                    // lowercase and remove special characters
                    str = str.toLowerCase();
                    // remove special characters
                    let regex = /[^a-z0-9]/gi;
                    str = str.replace(regex, '');
                    // create a reversed copy of str and an object to hold the result message and reversed string
                    let reversedStr = '';
                    let returnObj = {};
                    // loop through str in reverse, adding each element to reversedStr
                    for(let i = str.length - 1; i >= 0; i--){
                      reversedStr += str[i];
                    }
                    // return result message
                    str === reversedStr ? returnObj.msg = "Well done! You entered a Palindrome!" : returnObj.msg = "Sorry! You did not enter a Palindrome.";
                    // add a property to returnObj called reversed which holds the reversed string
                    returnObj.reversed = reversedStr;
                    // return the object holding result information
                    return returnObj;
                  }

                  // Display Results
                  function displayResults(returnObj) {
                    let myModal = new bootstrap.Modal(document.getElementById('resultModal'));
                    // display return message in modal header
                    document.getElementById('resultModalLabel').innerHTML = returnObj.msg;
                    // show the reversed user input in the message
                    document.getElementById('modalBody').innerHTML = `Your phrase reversed is: ${returnObj.reversed}`;
                    // unhide the modal
                    myModal.toggle();
                  }
              </code>
            </pre>
          </div>
          <div class="col-lg-4">
            <p>The Code is structured in three functions.</p>
            <h5>Get Values</h5>
            <p>
              getValues is a function that accepts user input, passes it to the isPalindrome function, and finally calls displayResults, passing in the results from isPalindrome. This function also ensures that the modal is hidden from view.
            </p>
            <h5>Is Palindrome</h5>
            <p>
              isPalindrome is a function that, in short, accepts user input and determines if it is in fact a palindrome (whitespace and special characters do not affect the final result). It starts off by converting the user input into lowercase. Next, by means of a regular expression, all characters that are not lowercase letters or numbers (in other words, special characters) are replaced with an empty string, which has the same effect as removing them. On lines 22 and 23, we have a variable to hold the reversed string and an empty object, which, as the name suggests, will hold information on our final result (reversedStr will be used for a property in this object). On lines 25 to 27, we have a for loop that will process the user input in reverse, adding each element to reversedStr, which will produce a reversed version of the user input. On line 29, a statement using ternary operators checks if this reversed string matches the original user input; if so, a property containing a message indicating success or failure is assigned to the result object. Line 31 sets yet another property, reversed, which shows the reversed version of the user input. Finally, on line 33, the result object is returned.
            </p>
            <h5>Display Results</h5>
            <p>
              displayResults is our final function. It accepts the result object from isPalindrome and uses its properties to change the modal header and body; the success or failure message is displayed in the header, and the reversed string is displayed in the body. Finally, on line 44, the modal is toggled on and will appear to the user.
            </p>
          </div>
        </div>
      </div>
    </main>
    <!-- Footer Section -->
    <footer class="footer mt-auto py-3">
      <div class="container-fluid">
        <div class="row row-cols-1 row-cols-lg-3 gy-2">
          <div
            class="col order-last order-lg-first d-flex align-items-center text-light"
          >
            <div>
              <span class="text-muted">&copy;2022</span> Caleb Jones |
              calebj516@gmail.com
            </div>
          </div>
          <div
            class="col d-flex align-items-center justify-content-start justify-content-lg-center"
          >
            <img
              src="img/White logo - no background.svg"
              alt="Caleb Jones Logo"
              height="100"
              width="200"
            />
          </div>
          <div
            class="col d-flex align-items-center justify-content-start justify-content-lg-end"
          >
            <div class="row">
              <div class="col social">
                <a
                  href="https://www.linkedin.com/in/caleb-d-jones/"
                  target="_blank"
                  ><i class="fab fa-linkedin fa-2x"></i
                ></a>
              </div>
              <div class="col social">
                <a href="https://github.com/calebj516/TacoCat" target="_blank"
                  ><i class="fab fa-github fa-2x"></i
                ></a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </footer>
    <!-- Bootstrap JS -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ"
      crossorigin="anonymous"
    ></script>
    <!-- Prism JS -->
    <script src="js/prism.js"></script>
    <script>
      Prism.plugins.NormalizeWhitespace.setDefaults({
        "remove-trailing": true,
        "remove-indent": true,
        "left-trim": true,
        "right-trim": true,
      });
    </script>
  </body>
</html>
